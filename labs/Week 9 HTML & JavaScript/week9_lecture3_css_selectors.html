<html>
    <head>
        <title>Lecture 2: JavaScript Part 3</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    </head>
    <body>
        <div id = "form">
            Firstname <input type = "text" id = "firstname" name="firstname"/><br/>  
            Lastname <input type = "text" id="lastname" name = "lastname"/><br/>
            <button onclick="updateinfo()">Click to update info</button>   
        </div>
        <div id="output">
            Who are you?
        </div>
        <div>
            <table id="table-main" class="table table-bordered">
                <thead class = "table-dark">
                    <tr>
                        <th>Title</th>
                        <th>Author</th>
                        <th>Updoot</th>
                    </tr> 
                </thead>
                <tbody>
                    <tr>
                        <td>Mostrilio</td>
                        <td>Gerardo Samano Cordova</td>
                        <td>
                            <button onclick="showrowinconsole(this)">Row Contents</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div>
            <button onclick="createrow(this)">Create New Row</button>
        </div>
        <script>
            function updateinfo(){
                var firstname= document.getElementById("firstname").value
                var lastname= document.getElementById("lastname").value
                document.getElementById("output").innerText = firstname + " " + lastname
                
                var yourname = {}
                var form = document.getElementById("form")
                yourname.firstname = form.querySelector('input[name="firstname"').value
                yourname.lastname = form.querySelector('input[name="lastname"').value
                console.log(JSON.stringify(yourname))
            }

            function showrowinconsole(buttonElement){
                var rowElement = buttonElement.parentNode.parentNode
                var data = {}
                data.cell1=rowElement.cells[0].firstChild.textContent
                data.cell2=rowElement.cells[1].firstChild.textContent
                console.log(JSON.stringify(data))
            }

            function createrow(buttonElement){
                var tableElement = document.getElementById("table-main") 
                var rowElement = tableElement.insertRow(-1)
                var cellElement0 = rowElement.insertCell(0)
                var cellElement1 = rowElement.insertCell(1)
                var cellElement2 = rowElement.insertCell(2)
                var data = {}
                data.cell0="Goodbye and Thanks For All The Fish"
                data.cell1= "Douglas Adams"
                data.cell2= "Can I put a button here?"
                console.log(JSON.stringify(data))
                cellElement0.innerText = data.cell0
                cellElement1.innerText = data.cell1
                cellElement2.innerText = data.cell2
            }
        </script>
    </body>